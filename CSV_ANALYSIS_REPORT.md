# Brian Gallica Audit - CSV Analysis Report

## Overview

This report provides a detailed statistical analysis of the deterministic selections generated by the Brian Gallica audit system. The analysis uses csvkit utilities to examine patterns and distributions in the hash-driven document selections.

## Dataset Summary

- **Total Records**: 13 (one for each hash layer L1-L13)
- **Unique Documents**: 6 different ARK identifiers
- **Date Generated**: December 22, 2025
- **Source**: Hash chain from canonical "Brian Christopher Perkins - 1975-05-11 Toledo, OH"

## Document Selection Distribution

### Most Frequently Selected Documents

| ARK Identifier | Selection Count | Percentage | Avg Page | Avg Offset |
|---------------|-----------------|------------|-----------|------------|
| ark:/12148/cb30657183x | 4 | 30.8% | 59.5 | 25,682 |
| ark:/12148/bpt6k63136911 | 4 | 30.8% | 50.8 | 20,355 |
| ark:/12148/bpt6k65374s | 2 | 15.4% | 73.5 | 9,647 |
| ark:/12148/cb325073617 | 1 | 7.7% | 97.0 | 3,105 |
| ark:/12148/cb30346886x | 1 | 7.7% | 47.0 | 19,849 |
| ark:/12148/bpt6k33731631 | 1 | 7.7% | 14.0 | 16,263 |

### Key Observations

1. **Concentration Effect**: Two documents (cb30657183x and bpt6k63136911) account for 61.6% of all selections
2. **Uniform Distribution**: Despite concentration, selections are spread across 6 unique documents
3. **Hash-Driven Pattern**: The distribution reflects the mathematical properties of the hash chain

## Page Selection Statistics

### Page Index Analysis

- **Range**: 8 to 97 pages
- **Mean**: 57.4 pages
- **Median**: 57 pages  
- **Standard Deviation**: 26.1 pages
- **Total Pages Across Selections**: 746

### Distribution Characteristics

1. **Lower Bound**: Minimum page 8 (Layer L12)
2. **Upper Bound**: Maximum page 97 (Layer L9)
3. **Central Tendency**: Mean and median both around 57, suggesting balanced distribution
4. **Variability**: Moderate standard deviation indicates reasonable spread

## Text Offset Statistics

### Offset Analysis

- **Range**: 1,158 to 43,329 characters
- **Mean**: 18,666 characters
- **Median**: 16,087 characters
- **Standard Deviation**: 13,902 characters
- **Total Offset Sum**: 242,660 characters

### Distribution Characteristics

1. **Wide Range**: Nearly 37x difference between minimum and maximum offsets
2. **Positive Skew**: Mean > Median suggests slight right skew
3. **High Variability**: Large standard deviation indicates diverse positioning

## Hash Layer Analysis

### Individual Layer Results

| Layer | Document | Page | Offset | Hash (first 8 chars) |
|-------|----------|------|--------|---------------------|
| L1 | cb30657183x | 43 | 1,158 | 16a860e9 |
| L2 | bpt6k63136911 | 79 | 30,994 | da023de1 |
| L3 | cb30657183x | 86 | 43,329 | 26323ef1 |
| L4 | bpt6k63136911 | 65 | 27,722 | eb298eb2 |
| L5 | bpt6k65374s | 70 | 15,877 | fcccd80a |
| L6 | bpt6k33731631 | 14 | 16,263 | 71bde50e |
| L7 | cb30657183x | 57 | 16,087 | 19ae89e9 |
| L8 | cb30657183x | 52 | 42,155 | 6d9d4ca1 |
| L9 | cb325073617 | 97 | 3,105 | 2e2a3dd9 |
| L10 | cb30346886x | 47 | 19,849 | b6356a5d |
| L11 | bpt6k63136911 | 51 | 8,572 | dd1bc52f |
| L12 | bpt6k63136911 | 8 | 14,133 | 4f1c8d19 |
| L13 | bpt6k65374s | 77 | 3,416 | ebd5cef3 |

### Pattern Analysis

1. **No Repeated Pages**: Each layer selects a unique page number
2. **Document Clustering**: Layers 1, 3, 7, 8 all select the same document (cb30657183x)
3. **Offset Diversity**: Wide range of text offsets suggests good coverage
4. **Hash Uniqueness**: Each layer produces a unique 64-character hash

## Statistical Validation

### Cryptographic Properties

1. **Deterministic**: Same canonical always produces same selections
2. **Uniform Distribution**: Page and offset selections appear reasonably distributed
3. **No Collisions**: All 13 hash values are unique
4. **Reproducible**: Results can be verified independently

### Quality Metrics

- **Coverage**: 6 different documents from 10-document corpus (60% coverage)
- **Diversity**: 13 unique page selections across documents
- **Spread**: Wide range of offsets (1,158 to 43,329 characters)
- **Balance**: Reasonable distribution without obvious bias

## Technical Implementation Notes

### CSV Structure

The audit CSV contains 8 columns:
1. `Layer`: Hash layer identifier (L1-L13)
2. `DigestHex`: Full 64-character SHA-256 hash
3. `ARK`: Gallica document identifier
4. `PageIndex0`: Zero-based page selection
5. `Offset`: Character offset within document
6. `Snippet`: Sample text (mock in demo)
7. `IIIF_Manifest`: URL to document manifest
8. `OCR_URL`: URL to OCR text file

### Data Quality

- **Completeness**: No null values in any field
- **Consistency**: All fields populated for every record
- **Validity**: All URLs follow proper Gallica patterns
- **Format**: Clean CSV structure with proper delimiters

## Conclusions

The Brian Gallica audit system demonstrates successful implementation of cryptographic deterministic selection:

1. **Statistical Soundness**: Reasonable distribution across documents and pages
2. **Cryptographic Integrity**: Unique, reproducible hash chain
3. **Coverage Adequacy**: Good spread across available corpus
4. **Implementation Robustness**: Clean, well-structured output

The system provides a verifiable audit trail that could be used for:
- Content provenance tracking
- Reproducible research selection
- Cryptographic document sampling
- Transparent content discovery

---

**Analysis Tools**: csvkit 2.2.0  
**Analysis Date**: December 22, 2025  
**Data Source**: demo_audit.csv (13 records)
